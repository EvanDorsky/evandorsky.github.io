
{% assign id = include.id | default: "gallery-generic" %}

<script type="text/javascript">
  if (!window.carousels) {
    window.carousels = {}
  }
  window.carousels["{{ id }}"] = {
    idx: 0,
    len: {{ include.collection | size }},
    auto_advance: true
  }
</script>

<div class="carousel-wrapper">
  <div class="carousel" id="{{ id }}">
  {% for post in include.collection %}
    {% include {{ include.preview }}.html post=post %}
  {% endfor %}
  </div>
  <div class="button-wrapper left" dir="-1">
    <div class="button left" dir="-1"></div>
  </div>
  <div class="button-wrapper right" dir="-1">
    <div class="button right" dir="1"></div>
  </div>
</div>